<extend name="public@base5"/>
<block name="main">
    <div class="wrap">
        <ul class="nav nav-tabs">
            <li class="nav-item">
                <a class="nav-link" href="{:url('Menu/index')}">{:lang('ADMIN_MENU_INDEX')}</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{:url('Menu/add')}">{:lang('ADMIN_MENU_ADD')}</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{:url('Menu/lists')}">{:lang('ADMIN_MENU_LISTS')}</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active">{:lang('ADMIN_MENU_EDIT')}</a>
            </li>
        </ul>
        <form method="put" class="form-horizontal js-ajax-form margin-top-20" action="admin/menus/{$data.id}">
            <div class="row mb-3">
                <label for="input-parent_id" class="col-sm-2 col-form-label text-sm-end"><span class="form-required">*</span>{:lang('Parent')}</label>
                <div class="col-md-8 col-sm-10">
                    <select class="form-control" name="parent_id" id="input-parent_id">
                        <option value="0">{:lang('Root Menu')}</option>
                        {$select_category}
                    </select>
                </div>
            </div>
            <div class="row mb-3">
                <label for="input-name" class="col-sm-2 col-form-label text-sm-end"><span class="form-required">*</span>{:lang('Name')}</label>
                <div class="col-md-8 col-sm-10">
                    <input type="text" class="form-control" id="input-name" name="name" value="{$data.name}">
                </div>
            </div>
            <div class="row mb-3">
                <label for="input-app" class="col-sm-2 col-form-label text-sm-end"><span class="form-required">*</span>{:lang('App')}</label>
                <div class="col-md-8 col-sm-10">
                    <input type="text" class="form-control" id="input-app" name="app" value="{$data.app}">
                </div>
            </div>
            <div class="row mb-3">
                <label for="input-controller" class="col-sm-2 col-form-label text-sm-end"><span class="form-required">*</span>{:lang('Controller')}</label>
                <div class="col-md-8 col-sm-10">
                    <input type="text" class="form-control" id="input-controller" name="controller"
                           value="{$data.controller}">
                </div>
            </div>
            <div class="row mb-3">
                <label for="input-action" class="col-sm-2 col-form-label text-sm-end"><span
                        class="form-required">*</span>{:lang('Controller Action')}</label>
                <div class="col-md-8 col-sm-10">
                    <input type="text" class="form-control" id="input-action" name="action" value="{$data.action}">
                </div>
            </div>
            <div class="row mb-3">
                <label for="input-param" class="col-sm-2 col-form-label text-sm-end">{:lang('Params')}</label>
                <div class="col-md-8 col-sm-10">
                    <input type="text" class="form-control" id="input-param" name="param" value="{$data.param}">
                    <p class="help-block">id=3&amp;p=3</p>
                </div>
            </div>
            <div class="row mb-3">
                <label for="input-icon" class="col-sm-2 col-form-label text-sm-end">{:lang('Icon')}</label>
                <div class="col-md-8 col-sm-10">
                    <div class="input-group">
                        <input type="text" class="form-control" id="input-icon" name="icon" value="{$data.icon}">
                        <span class="input-group-btn">
                            <a class="btn btn-primary" href="http://www.thinkcmf.com/font/font_awesome/icons.html"
                               target="_blank">{:lang('Select icon')}</a>
                        </span>
                    </div>
                    <div class="form-text">
                        <span class="badge text-bg-primary">fa fa-user</span> <span class="badge text-bg-primary">fa-regular fa-calendar-days</span>
                        <span class="badge text-bg-primary">fa-solid fa-align-justify</span>
                        <span class="badge text-bg-primary">fa-brands fa-alipay</span>
                    </div>
                </div>
            </div>
            <div class="row mb-3">
                <label for="input-remark" class="col-sm-2 col-form-label text-sm-end">{:lang('Remark')}</label>
                <div class="col-md-8 col-sm-10">
                    <textarea class="form-control" id="input-remark" name="remark">{$data.remark}</textarea>
                </div>
            </div>
            <div class="row mb-3">
                <label for="input-status" class="col-sm-2 col-form-label text-sm-end">{:lang('Status')}</label>
                <div class="col-md-8 col-sm-10" id="input-status">
                    <select class="form-control" name="status">
                        <option value="1">{:lang('ADMIN_MENU_STATUS_1_TEXT')}</option>
                        <php>$status_selected=empty($data['status'])?"selected":"";</php>
                        <option value="0" {$status_selected}>{:lang('ADMIN_MENU_STATUS_0_TEXT')}</option>
                    </select>
                </div>
            </div>
            <div class="row mb-3">
                <label for="input-type" class="col-sm-2 col-form-label text-sm-end">{:lang('Type')}</label>
                <div class="col-md-8 col-sm-10">
                    <select class="form-control" name="type" id="input-type">
                        <option value="1">{:lang('ADMIN_MENU_TYPE_1_TEXT')}</option>
                        <php>$type2_selected=$data['type']==2?"selected":"";</php>
                        <option value="2" {$type2_selected}>{:lang('ADMIN_MENU_TYPE_2_TEXT')}</option>
                        <php>$type_selected=$data['type']==0?"selected":"";</php>
                        <option value="0" {$type_selected}>{:lang('ADMIN_MENU_TYPE_0_TEXT')}</option>
                    </select>
                </div>
            </div>
            <div class="row mb-3">
                <div class="offset-md-2 col-sm-10">
                    <input type="hidden" name="id" value="{$data.id}"/>
                    <button type="submit" class="btn btn-primary js-ajax-submit">
                        <i class="fa fa-save fa-fw"></i> {:lang('SAVE')}
                    </button>
                    <a class="btn btn-secondary" href="{:url('Menu/index')}">{:lang('BACK')}</a>
                </div>
            </div>
        </form>
    </div>
</block>