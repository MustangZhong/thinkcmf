<extend name="public@base5"/>
<block name="main">
    <div class="wrap js-check-wrap">
        <ul class="nav nav-tabs">
            <li class="nav-item">
                <a class="nav-link active" href="javascript:void(0)">
                    {:lang('ADMIN_RECYCLEBIN_INDEX')}
                </a>
            </li>
        </ul>
        <form class="js-ajax-form margin-top-20" method="post">
            <div class="table-actions">
                <button class="btn btn-danger btn-sm js-ajax-submit" type="submit"
                        data-method="delete"
                        data-action="admin/recycle/bin/items" data-subcheck="true"
                        title="{:lang('DELETE')}" data-toggle="tooltip">
                    <i class="fa fa-trash fa-fw"></i>
                </button>
                <button class="btn btn-success btn-sm js-ajax-submit" type="submit"
                        data-action="admin/recycle/bin/restore" data-subcheck="true"
                        title="{:lang('Restore')}" data-toggle="tooltip">
                    <i class="fa fa-undo fa-fw"></i>
                </button>
                <a class="btn btn-danger btn-sm js-ajax-delete"
                   href="admin/recycle/bin/clear"
                   data-msg="{:lang('EMPTY_RECYCLE_BIN_CONFIRM_MSG')}">{:lang('Empty Recycle Bin')}</a>
            </div>
            <table class="table table-hover table-bordered table-list">
                <thead>
                <tr>
                    <th style="width: 15px">
                        <input type="checkbox" class="js-check-all" data-direction="x" data-checklist="js-check-x">
                    </th>
                    <th style="width: 50px">ID</th>
                    <th>{:lang('Name')}</th>
                    <th>{:lang('Type')}</th>
                    <th>{:lang('Delete Time')}</th>
                    <th>{:lang('Operator')}</th>
                    <th width="100">{:lang('ACTIONS')}</th>
                </tr>
                </thead>
                <tbody>
                <foreach name="list" item="vo">
                    <tr>
                        <td>
                            <input type="checkbox" class="js-check" data-yid="js-check-y" data-xid="js-check-x"
                                   name="ids[]"
                                   value="{$vo.id}"
                                   title="ID:{$vo.id}">
                        </td>
                        <td>{$vo.id}</td>
                        <td>{$vo.name}</td>
                        <td>
                            {:lang('TABLE_'.strtoupper($vo['table_name']))}
                        </td>
                        <td> {:date('Y-m-d H:i:s',$vo['create_time'])}</td>

                        <td> {$vo.user.user_login|default=''}</td>
                        <td>
                            <a href="javascript:"
                               data-href="admin/recycle/bin/restore?ids={$vo.id}"
                               class="btn btn-xs btn-success js-ajax-dialog-btn"
                               data-msg="{:lang('RESTORE_CONFIRM_MSG')}"
                               title="{:lang('Restore')}" data-toggle="tooltip">
                                <i class="fa fa-undo fa-fw"></i>
                            </a>
                            <a href="javascript:"
                               data-href="admin/recycle/bin/items?ids={$vo.id}"
                               class="btn btn-xs btn-danger js-ajax-delete"
                               title="{:lang('DELETE')}" data-toggle="tooltip">
                                <i class="fa fa-trash fa-fw"></i>
                            </a>
                        </td>
                    </tr>
                </foreach>
                </tbody>
                <tfoot>
                <tr>
                    <th style="width: 15px">
                        <input type="checkbox" class="js-check-all" data-direction="x" data-checklist="js-check-x">
                    </th>
                    <th style="width: 50px">ID</th>
                    <th>{:lang('Name')}</th>
                    <th>{:lang('Type')}</th>
                    <th>{:lang('Delete Time')}</th>
                    <th>{:lang('Operator')}</th>
                    <th width="100">{:lang('ACTIONS')}</th>
                </tr>
                </tfoot>
            </table>
            <div class="table-actions">
                <button class="btn btn-danger btn-sm js-ajax-submit" type="submit"
                        data-method="delete"
                        data-action="admin/recycle/bin/items" data-subcheck="true"
                        title="{:lang('DELETE')}" data-toggle="tooltip">
                    <i class="fa fa-trash fa-fw"></i>
                </button>
                <button class="btn btn-success btn-sm js-ajax-submit" type="submit"
                        data-action="admin/recycle/bin/restore" data-subcheck="true"
                        title="{:lang('Restore')}" data-toggle="tooltip">
                    <i class="fa fa-undo fa-fw"></i>
                </button>
                <a class="btn btn-danger btn-sm js-ajax-delete"
                   href="admin/recycle/bin/clear"
                   data-msg="{:lang('EMPTY_RECYCLE_BIN_CONFIRM_MSG')}">{:lang('Empty Recycle Bin')}</a>
            </div>
            <ul class="pagination">{$page}</ul>
        </form>
    </div>
</block>
